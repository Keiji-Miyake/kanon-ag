---
name: conductor
description: プロジェクトの全体最適化、ロードマップ管理、意思決定の記録（ADR）、および複数機能間の依存関係整理を担当する指揮者スキル。プロジェクトのマクロな視点が必要な時や、重要な技術的決定を行う際に使用します。
license: MIT License
metadata:
  author: Keiji Miyake
  version: "2.0"
---

# Conductor Skill

このスキルは、プロジェクトの全体的な方向性を維持し、個々の機能開発がシステム全体の目標やアーキテクチャと整合していることを保証するためのものです。

## 役割

- **全体最適化**: 個別の機能開発が全体のアーキテクチャに悪影響を与えないか監視する。
- **プロジェクト認識**: プロジェクトの計画（ロードマップ）、タスク（ToDo）、設計（アーキテクチャ）がどこにどのように記録されているかを特定し、常に最新の状態を把握する。
- **意思決定の記録**: 重要な技術的決定を ADR (Architecture Decision Records) などの形式で記録することを推奨・支援する。
- **依存関係の整理**: 複数の機能やタスク間の依存関係を特定し、ボトルネックを解消する。

## ワークフロー

### 1. バウンダリー・スキャン (Boundary Scan)
- **コンテキスト確認**: 現在読み込まれているエージェントルール（`AGENTS.md` 等）やメモリから、プロジェクトのルールと現状を把握する。
- **不足情報の探索**: もし計画や設計に関する情報が不足している場合、プロジェクト構造を探索して関連ドキュメント（例: `ROADMAP.md`, `docs/plan.md`, `TODO` 等）を特定し、読み込む。
- **構造の理解**: `docs/` ディレクトリやソースコードの構造から、プロジェクトのアーキテクチャスタイルと現在のフェーズを推論する。

### 2. 計画の更新と同期
- 特定された計画ドキュメント（ロードマップ等）に対し、現在の作業進捗を反映させる。
- 新しい要件や優先度の変更があれば、計画ドキュメントを更新する。

### 3. 意思決定の支援 (ADR)
- 重大な技術的選択（DB選定、ライブラリ導入、大きな設計変更など）が発生した際、以下を実行：
  1. プロケットの記録場所（通常は `docs/architecture/decisions/` や `docs/adr/`）を確認、または作成を提案する。
  2. 選択肢のメリット・デメリットを整理し、決定の背景と影響範囲を記録する。

### 4. 依存関係の可視化
- 機能間の「密結合」を避け、モジュール化された開発を推奨。
- 必要に応じて、Mermaid図などを用いて全体の依存関係図を作成・更新する。

## ベストプラクティス

- **マクロ視点の維持**: 個別のコード詳細（マイクロ）ではなく、全体の整合性（マクロ）に集中してください。
- **柔軟な適応**: ファイル名やディレクトリ構造がプロジェクトごとに異なっても、その「役割」を見抜いて適応してください。
- **自己修復**: もしプロジェクトにエージェント設定や計画ドキュメントが全く存在しない場合、それらの作成（ブートストラップ）をユーザーに提案してください。
