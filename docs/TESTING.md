# Kanon テスト戦略 (Testing Strategy)

Kanon プロジェクトでは、自律型マルチエージェントシステムの信頼性を担保するため、以下のテスト戦略を採用しています。

## 概要

Kanon は複数のAIエージェントが非同期に通信し合う複雑なシステムです。
単一コンポーネントのテストに加え、**エージェント間の連携（シナリオ検証）** を重視します。

## 1. モジュール・ユニットテスト

Conductor や Message Bus などのコアコンポーネント自体のロジックを検証します。

- 実行ツール: `vitest` を推奨
- 対象
  - タスク分割アルゴリズムの挙動
  - JSONメッセージパースとバリデーション
  - Agent Pool の登録・管理ロジック

## 2. エージェント連携テスト (Integration & Scenario)

複数のエージェントが意図した通りに連携・自走できるか、実際のワークフローを通じたテストを行います。

### ワークフローシナリオの定義

`docs/dev/scenarios/` 内に、想定する開発シナリオ（例えば「簡単なWebサーバーをつくる」「関数にテストを追加してバグを修正させる」など）を定義します。

### 自動レビュープロセスの検証

Testerエージェントが、Programmerエージェントの作成したコードに対して適切にフィードバック（エラーの指摘等）を行い、修正ループが正常に回るかを確認します。

## 開発フローにおけるテスト

1. 新たなスキル（役割プロンプト）やコア機能を追加する際は、必ず事前に対応するシナリオやテストケースを定義してください。
2. 手動でのエージェントの振る舞い検証と、自動化されたコードレベルの検証の双方を組み合わせて品質を担保します。
